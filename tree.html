<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Referral Tree</title>
    <link rel="stylesheet" href="styles.css"> <!-- External CSS for styling -->
</head>
<body>
    <header>
        <h1>Referral Tree</h1>
        <p>Welcome to your referral tree. Below is a list of your network users.</p>
    </header>
    
    <main>
        <section>
            <h2>Your Referral Tree</h2>
            <div id="userTree">
                <!-- User tree will be dynamically generated here -->
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2024 Doller Tree</p>
    </footer>

    <script>
        // Temporary Dummy Data for Testing
        function getUsers() {
            const dummyData = {
                userID1: { referrals: ["userID2", "userID3"] },
                userID2: { referrals: ["userID4"] },
                userID3: { referrals: [] },
                userID4: { referrals: [] }
            };

            let output = "<ul>";
            for (let userID in dummyData) {
                output += buildUserTree(userID, dummyData[userID].referrals, 0, dummyData);
            }
            output += "</ul>";
            document.getElementById('userTree').innerHTML = output;
        }

        // Recursive function to build the user tree
        function buildUserTree(userID, referrals, level, data) {
            let output = `<li style="margin-left:${level * 20}px; color:${referrals.length > 0 ? 'green' : 'yellow'};">
                User ID: ${userID}
            `;
            if (referrals.length > 0) {
                output += "<ul>";
                referrals.forEach(referral => {
                    output += buildUserTree(referral, data[referral] ? data[referral].referrals : [], level + 1, data);
                });
                output += "</ul>";
            }
            output += "</li>";
            return output;
        }

        // Load the tree on page load
        window.onload = function () {
            getUsers();
        };
    </script>
</body>
</html>
